<html>
<head>
	<style type="text/css">
	.standard-nav-item, .progress-nav-item, .progress-nav-sub-item, .process-nav-item, .process-nav-sub-item{
		border: 1px solid black;
		color: blue;
	}
	.standard-nav-container{
		display:inline-block;
		position:relative;
		border: 1px solid black;
		width: 35%;
	}
	.standard-nav-container > ul, .progress-nav-container > ul, .process-nav-container > ul {
		list-style: none;
		margin: 0;
		padding: 0;
	}
	.progress-nav-container ul ul{
		list-style: none;
	}
	.process-nav-container ul ul{
		list-style: none;
	}
	.default-item{
		position:absolute;
		top:0;
		right:0;
		width: 20px;
		text-align: center;
	}
	.default-item:hover{
		background-color: #e2e2e2;
	}
	.inactive{
		color: blue;
	}
	.active{
		color:red;
	}
	.enabled{

	}
	.disabled{
		opacity: 0.5;
	}
	@media screen and (max-width: 639px){
		.inactive{
			display: none;
		}
		.active{
			display: block;
		}
		.standard-nav-container{
			width: 70%;
		}
	}
	</style>
</head>
<body>
	<div class="standard-nav-container">
		<ul>
			<li class="standard-nav-item">Item 1</li>
			<li class="standard-nav-item">Item 2</li>
			<li class="standard-nav-item">Item 3</li>
			<li class="standard-nav-item">Item 4</li>
			<li class="standard-nav-item">Item 5</li>
			<li class="standard-nav-item">Item 6</li>
		</ul>
	</div>
	<br>
	<br>
	<br>
	<br>
	<div class="progress-nav-container">
		<ul>
			<li class="progress-nav-item">Item 1</li>
			<li class="progress-nav-item">Item 2</li>
			<li class="progress-nav-item">Item 3
				<ul>
					<li class="progress-nav-sub-item"> Sub item 1</li>
					<li class="progress-nav-sub-item"> Sub item 2</li>
					<li class="progress-nav-sub-item"> Sub item 3</li>
				</ul>
			</li>
			<li class="progress-nav-item">Item 4</li>
			<li class="progress-nav-item">Item 5</li>
			<li class="progress-nav-item">Item 6</li>
		</ul>
	</div>
	<br>
	<br>
	<br>
	<br>
	<div class="process-nav-container">
		<ul>
			<li class="process-nav-item">Item 1</li>
			<li class="process-nav-item">Item 2</li>
			<li class="process-nav-item">Item 3
				<ul>
					<li class="process-nav-sub-item"> Sub item 1</li>
					<li class="process-nav-sub-item"> Sub item 2</li>
					<li class="process-nav-sub-item"> Sub item 3</li>
				</ul>
			</li>
			<li class="process-nav-item">Item 4</li>
			<li class="process-nav-item">Item 5</li>
			<li class="process-nav-item">Item 6</li>
		</ul>
	</div>
	<script type="text/javascript">
	(function(){

// Bootstrap standard navigation widget.
var navContainer = document.querySelector('.standard-nav-container');
var navItems = navContainer.querySelectorAll('.standard-nav-item');
var defaultItem, navUl, activeItem; 
var options = {defaultActiveItem : 0};

var init = function(options){
	setupMobile();
	setDefaultActive(options.defaultActiveItem);
	setItemsListeners();
};

var setDefaultActive = function(defaultActiveItem){
	for (var i = navItems.length - 1; i >= 0; i--) {
		if( i == defaultActiveItem){
			navItems[i].classList.add('active');
		}
		else{
			navItems[i].classList.add('inactive');
		}
	};
};

var selectDefault = function(){
	for (var i = navItems.length - 1; i >= 0; i--) {
		if (navItems[i].classList.contains('inactive')) {
			navItems[i].classList.remove('inactive');
		}
		else{
			navItems[i].classList.add('inactive');
		}

	};
};

var resizeMobile = function(){
	if (window.innerWidth <= 639) {
		defaultItem  = navContainer.querySelector('.default-item');
		if (defaultItem == undefined || defaultItem == null) {
			defaultItem = document.createElement('div');
			defaultItem.innerHTML = "\\/";
			defaultItem.classList.add('standard-nav-item');
			defaultItem.classList.add('default-item');
			defaultItem.addEventListener('click',selectDefault);
			navContainer.appendChild(defaultItem);
		}
	}
	else if (window.innerWidth > 639) {
		defaultItem  = navContainer.querySelector('.default-item');
		if (defaultItem != undefined && defaultItem != null) {
			navContainer.removeChild(defaultItem);
		};
	}
};

var setupMobile = function(){
	if (window.innerWidth <= 639) {
		defaultItem  = navContainer.querySelector('.default-item');
		if (defaultItem == undefined || defaultItem == null) {
			defaultItem = document.createElement('div');
			defaultItem.innerText = "\\/";
			defaultItem.classList.add('standard-nav-item');
			defaultItem.classList.add('default-item');
			defaultItem.addEventListener('click',selectDefault);
			navContainer.appendChild(defaultItem);
		}
	}
	window.addEventListener('resize',resizeMobile);
};

var setItemsListeners = function(){
	for (var i = navItems.length - 1; i >= 0; i--) {
		navItems[i].addEventListener('click', function(){
			for (var i = navItems.length - 1; i >= 0; i--) {
				this.classList.add('active');
				this.classList.remove('inactive');
				if (navItems[i] !== this) {
					navItems[i].classList.remove('active');
					navItems[i].classList.add('inactive');
				};
			};
		});
	};
};

init(options);
//////////////////////////////////////////////////////////////////////

// Bootstrap progress navigation widget.
var progressNavContainer = document.querySelector('.progress-nav-container');
var progressNavItems = progressNavContainer.querySelectorAll('.progress-nav-item');
var currentProgressStep = {itemIndex:2,subItemIndex:2};
var progressNavSubItems;

var initProgress = function(){
	setProgressItems();
	setProgressActiveItem();
	setProgressListener();
};

var setProgressActiveItem = function(){
	progressNavSubItems = progressNavItems[currentProgressStep.itemIndex].querySelectorAll('.progress-nav-sub-item');
	if (progressNavSubItems != undefined && progressNavSubItems != null && progressNavSubItems.length != 0) {
		progressNavSubItems[currentProgressStep.subItemIndex].classList.add('active');
	}
	else{
		progressNavItems[currentProgressStep.itemIndex].classList.add('active');	
	}
};

var setProgressItems = function(){
	for (var i = 0; i < progressNavItems.length; i++) {
		progressNavSubItems = progressNavItems[i].querySelectorAll('.progress-nav-sub-item');
		if (i > currentProgressStep.itemIndex) {
			progressNavItems[i].classList.add('disabled');
		}
		else if (i == currentProgressStep.itemIndex) {
			if (progressNavSubItems != undefined && progressNavSubItems != null) {
				if (currentProgressStep.subItemIndex < progressNavSubItems.length-1) {
					for(var j = currentProgressStep.subItemIndex+1; j < progressNavSubItems.length; j++){
						progressNavSubItems[j].classList.add('disabled');
					}
				}
			}
			else{
				progressNavItems[i].classList.add('disabled');
			}
		}
}
};


var setProgressListener = function(){
	progressNavContainer.addEventListener('click',function(e){
		if(e.target != undefined && e.target != null){
			if(e.target.classList.contains('disabled')){
				e.preventDefault();
			}
			else{
				console.log(e.target);
			}
		}
	});
};

initProgress();
//////////////////////////////////////////////////////////////////////

// Bootstrap process navigation widget.
var processNavContainer = document.querySelector('.process-nav-container');
var processNavItems = processNavContainer.querySelectorAll('.process-nav-item');
var currentProcessStep = {itemIndex:2,subItemIndex:1};
var processNavSubItems;

var initProcess = function(){
	setProcessActiveItem();
	setProcessListener();
};

var setProcessActiveItem = function(){
	processNavSubItems = processNavItems[currentProcessStep.itemIndex].querySelectorAll('.process-nav-sub-item');
	if (processNavSubItems != undefined && processNavSubItems != null && processNavSubItems.length != 0) {
		processNavSubItems[currentProcessStep.subItemIndex].classList.add('active');
	}
	else{
		processNavItems[currentProcessStep.itemIndex].classList.add('active');	
	}
};


var setProcessListener = function(){
	processNavContainer.addEventListener('click',function(e){
		if(e.target != undefined && e.target != null){
				console.log(e.target);
		}
	});
};

initProcess();
//////////////////////////////////////////////////////////////////////
})();
</script>
</body>
</html>
